
# 注册

## 手机号 + 验证码注册

用户操作流程:
1. 输入手机号
2. 点击"获取验证码"
3. 输入验证码
4. 自动完成注册并登录
5. (可选) 完善个人信息

验证码规则:
1. 6位数字
2. 有效期: 5分钟
3. 单个手机号: 1次/60秒, 5次/天
4. 单个IP: 10次/小时, 50次/天
5. 验证码内容模板: “【微书包】您的验证码是{code},5分钟内有效,请勿泄露”

校验规则:
1. 校验验证码是否正确：当前验证码无效或已过期
2. 校验验证码是否过期：当前验证码无效或已过期
3. 校验手机号是否已注册：当前手机号已被注册
4. 验证码发送频繁：操作过于频繁,请60秒后再试

## 手机号 + 密码注册

用户操作流程:
1. 输入手机号
2. 设置密码 (6-16位,含字母和数字)
3. 确认密码
4. 点击"注册"
5. 自动完成注册并登录
6. (可选) 完善个人信息

密码规则:
1. 长度: 6-16位
2. 必须包含: 字母 + 数字
3. 可选包含: 特殊字符(!@#$%^&*)
4. 不能是纯数字或纯字母
5. 不能包含手机号
6. 实时密码强度提示 (弱/中/强)

校验规则:
1. 校验密码是否符合规则：密码长度不符合要求或不包含字母和数字
2. 校验密码是否与确认密码一致：两次输入的密码不一致
3. 校验手机号是否已注册：当前手机号已被注册

## 注册逻辑

当用户注册成功之后，系统会自动登录用户，并跳转至主界面。

在用户注册后，需要对一些信息进行默认赋值。

1. 角色设置为普通用户
2. 状态设置为正常
3. 头像设置为默认头像
4. 性别设置为未知
5. 昵称自动设置为 随机两位汉字 + 手机号后4位，随机两位汉字可以提前设置一个昵称库，进行初始化，在自动设置昵称时进行随机选择
6. 生日默认为空
7. 个性签名默认为空


# 登录

## 手机号 + 验证码登录

用户操作流程:
1. 输入手机号
2. 点击"获取验证码"
3. 输入验证码
4. 点击登录
5. 登录成功，跳转至主界面

校验规则：
1. 校验验证码是否正确：当前验证码无效或已过期
2. 校验验证码是否过期：当前验证码无效或已过期
3. 校验手机号是否已注册：当前手机号未被注册
4. 验证码发送频繁：操作过于频繁,请60秒后再试
5. 登录频繁：操作过于频繁,请60秒后再试
6. 登录失败次数超过3次：账号已被锁定,请24小时后再试
   
## 手机号 + 密码登录

用户操作流程:
1. 输入手机号
2. 输入密码
3. 点击登录
4. 登录成功，跳转至主界面

校验规则：
1. 校验手机号是否已注册：当前手机号未被注册
2. 校验密码是否正确：当前密码错误
3. 登录频繁：操作过于频繁,请60秒后再试
4. 登录失败次数超过3次：账号已被锁定,请24小时后再试

## 第三方登录

暂不支持，后续版本考虑添加。


# 个人信息管理

## 基本信息

用户可以在个人信息页面查看和修改自己的基本信息，包括昵称、性别、生日、个性签名等。

昵称规则：

1. 长度: 2-10位
2. 必须包含: 中文或英文
3. 不能包含特殊字符(!@#$%^&*)
4. 不能包含手机号
5. 不可重复

性别：

1. 男
2. 女
3. 未知

个性签名规则：

1. 长度: 0~50 位
2. 可以包含: 中文、英文、数字、特殊字符(!@#$%^&*)
3. 不能包含手机号

## 头像管理

用户创建后，默认头像为系统提供的默认头像。

用户可以在个人信息页面上传和修改自己的头像。

头像上传功能：

1. 用户可以在个人信息页面点击头像区域，选择本地图片进行上传。
2. 上传成功后，头像会立即显示在头像区域。
3. 用户可以在个人信息页面点击"删除"按钮，删除当前设置的头像，系统会自动设置为默认头像。

头像预览功能：

1. 用户可以在上传头像前，预览自己上传的图片。
2. 预览图片会显示在头像区域，用户可以根据预览结果进行选择。

支持相机功能：

1. 用户可以在个人信息页面点击头像区域，打开相机进行拍照。
2. 拍照成功后，照片会立即显示在头像区域。
3. 用户可以在个人信息页面点击"删除"按钮，删除当前设置的头像，系统会自动设置为默认头像。

支持相册选择功能：

1. 用户可以在个人信息页面点击头像区域，打开相册进行选择。
2. 选择成功后，图片会立即显示在头像区域。
3. 用户可以在个人信息页面点击"删除"按钮，删除当前设置的头像，系统会自动设置为默认头像。

头像格式：

1. 支持上传的图片格式：JPEG、JPG、PNG
2. 建议上传的图片尺寸：200px * 200px
3. 建议上传的图片大小：不超过 5MB

## 密码管理

用户可以在个人信息页面修改自己的登录密码。

修改密码需要验证原密码或手机验证码，用户可以选择其中一种方式进行验证。

当用户忘记密码时，用户可以在登录页面点击"忘记密码"，输入手机号后，系统会发送验证码到用户手机号。用户可以使用验证码进行密码重置。

## 更换手机号

用户可以在个人信息页面更换绑定的手机号。

更换手机号需要验证新手机号的验证码，用户需要输入正确的验证码才能完成更换。

## 安全设置

用户可以在个人信息页面查看已绑定的手机号，手机号进行脱敏显示，例如：13800001234 显示为 138****1234。

## 隐私设置

在个人信息页面，用户可以设置是否允许其他用户查看自己的个人信息。

个人资料可见性：
- 允许其他用户查看我的个人资料

动态与内容可见性：
- 允许其他用户查看我的动态与内容
- 允许其他用户查看我的书架
- 允许其他用户查看我的评论
- 允许其他用户查看我的书单
- 仅允许好友查看我的书评

数据与推荐：
- 允许基于我的阅读习惯推荐内容

## 偏好设置

阅读偏好:
- 字体大小 (12-30px, 默认16px)
- 字体样式 (系统默认/宋体/黑体/楷体)
- 行间距 (1.0-2.5, 默认1.5)
- 翻页模式 (滚动/仿真翻页/滑动)
- 阅读背景 (白色/护眼绿/夜间模式)
- 自动保存书签 (开/关)
- 屏幕常亮 (开/关)








